<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Đăng bán đồ cũ</title>
  <link rel="stylesheet" href="./full.css/home.css"/>
  <link rel="stylesheet" href="./full.css/sell.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>
  <!-- ========== HEADER ========== -->
  <section id="header">
    <a href="#"><img src="img/logo.png" alt="logo" class="logo"></a>
    <div>
      <ul id="navbar">
        <li><a class="active" href="index.html">Home</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="cart.html"><i class="fa-solid fa-bag-shopping"></i></a></li>
        <li><a id="signin-link" href="signin.html">Sign in</a></li>
        <li class="dropdown">
          <a href="#" id="profile-link" style="display: none;"><i class="fa-solid fa-user"></i></a>
          <ul class="dropdown-menu" id="user-dropdown" style="display: none;">
            <li><a class="dropdown-link" href="#">Track My Order</a></li>
            <li><a class="dropdown-link" href="mywishlist.html">My Wishlist</a></li>
            <li><a class="dropdown-link active" href="sell.html">Sell</a></li>
            <li><a class="dropdown-link" href="#" id="signout-link">Sign Out</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </section>

  <!-- ========== FORM ĐĂNG TIN ========== -->
  <div class="post-container">
    <div class="left-section">
      <h3>Hình ảnh sản phẩm</h3>
      <div class="preview-area" id="preview"></div>
      <!-- Input thực để PHP nhận file -->
      <input type="file" id="images" name="images[]" accept="image/*" multiple style="display: none;">
    </div>

    <div class="right-section">
      <form id="sell-form" enctype="multipart/form-data">
        <!-- Danh mục -->
        <div class="form-group">
          <label>Danh mục tin đăng *</label>
          <div id="category-select" class="category-select-box">-- Chọn danh mục --</div>
          <input type="hidden" id="category" name="category">
          <input type="hidden" id="subcategory" name="subcategory">
        </div>

        <!-- Tình trạng -->
        <div class="form-group">
          <label for="condition">Tình trạng *</label>
          <select id="condition" name="condition" required>
            <option value="">-- Chọn tình trạng --</option>
            <option value="new">Mới</option>
            <option value="used">Đã sử dụng</option>
          </select>
        </div>
        
      <!-- Số lượng -->
        <div class="form-group">
          <label for="quantity">Số lượng *</label>
          <div class="quantity-wrapper">
            <button type="button" class="qty-btn" onclick="changeQty(-1)">−</button>
            <input type="number" id="quantity" name="quantity" min="1" max="1000" value="1" required />
            <button type="button" class="qty-btn" onclick="changeQty(1)">+</button>
          </div>
        </div>


        <!-- Giá bán -->
        <div class="form-group">
          <label for="price">Giá bán *</label>
          <input type="text" id="price" name="price" placeholder="Từ 10.000 đến 200.000.000 đồng" required>
        </div>

        <!-- Tiêu đề -->
        <div class="form-group">
          <label for="title">Tiêu đề *</label>
          <input type="text" id="title" name="title" placeholder="VD: iPhone 12 Pro Max 128GB, còn mới 98%" required>
        </div>

        <!-- Mô tả -->
        <div class="form-group">
          <label for="description">Mô tả chi tiết *</label>
          <textarea id="description" name="description" placeholder="Mô tả chi tiết về sản phẩm, tình trạng sử dụng, phụ kiện đi kèm..." required></textarea>
        </div>

        <!-- Địa chỉ -->
        <div class="form-group">
          <label>Địa chỉ *</label>
          <div id="select-address" class="address-select-box">-- Chọn địa chỉ --</div>
          <input type="hidden" id="address" name="address">
        </div>

        <!-- Nút đăng -->
        <div class="actions">
          <button type="submit">Đăng tin</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ========== POPUP CHỌN DANH MỤC ========== -->
  <div id="popup" class="popup-overlay">
    <div class="popup-content">
      <h4>Chọn Danh Mục</h4>
      <div id="category-list" class="popup-category-list"></div>
    </div>
  </div>

  <!-- ========== POPUP CHỌN ĐỊA CHỈ ========== -->
  <div id="address-popup" class="popup-overlay">
    <div class="popup-content">
      <h4 id="address-step-title">Chọn Tỉnh/Thành</h4>
      <div id="address-options"></div>

      <div class="form-group" id="specific-address-group" style="display: none; margin-top: 10px;">
        <label for="specific-address">Địa chỉ cụ thể *</label>
        <input type="text" id="specific-address" placeholder="VD: 123 Lê Lợi, P. Bến Thành" />
      </div>

      <div class="popup-actions">
        <button id="back-address">← Quay lại</button>
        <button id="confirm-address" style="display: none;">Xác nhận</button>
      </div>
    </div>
  </div>

  <!-- ========== SCRIPT ========== -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="./full.js/sell.js" defer></script>
  <script src="./full.js/signin-signout.js" defer></script>
  <script src="./full.js/common.js"></script>
</body>
</html>
